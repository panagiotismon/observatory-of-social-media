{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/tools.css')}}" />
{% endblock %}

<body>
  {% block main %}
  </br>
  <div id="loading" class="container">
    <div class="center"><img src="{{url_for('static', filename='loadimg.gif')}}" width="75" height="75"></div>
  </div>
  <div id="loading" class="container">
    <div class="center"><img src="{{url_for('static', filename='loadimg.gif')}}" width="75" height="75"></div>
  </div>
  <section class="container" id="content">
    <div class="row">
      <div class="column">
        <h3 class="tm-text-blue">Trends and Trustworthiness</h3>
        <p>
          This tool appears the most shared posts. You can check also their votes in an interactive way according to the
          level of trustworthiness you want to take into account.
        </p><br>
      </div>
      <div class="column">
        <form id="form2" action="/observatory/trends/results"  onsubmit="myFunction()" method="POST">
          <h4>
            <h4>Check the 5 most shared posts</h4>
          </h4>
          <div class="form-group">
            <label>Enter start date</label><br>
            <input class="form-control" type="text" name="startdate" id="startdate"
              placeholder="YYYY-MM-DD" pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" required /><br>
            <label>Enter end date</label><br>
            <input class="form-control" type="text" name="enddate" id="enddate"
              placeholder="YYYY-MM-DD" pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" required /><br>
            <label>Enter Mastodon token</label><br>
            <input class="form-control" type="text" name="mtoken" id="mtoken" required><br>
            <br>
            <button type="submit" name="btn-submit" id="btn-submit" class="btn btn-primary">Submit</button>
            <br>
        </form>
      </div>
    </div>
  </section>
  {% endblock %}
  {% block scripts %}
  <script>
  
function myFunction() {
  $("#loading").show();
}



	  function checkEmpty(obj) {
      var name = $(obj).attr("name");
      $("." + name + "-validation").html("");
      $(obj).css("border", "");
      if ($(obj).val() == "") {
        $(obj).css("border", "#FF0000 1px solid");
        $("." + name + "-validation").html("Required");
        return false;
      }
      return true;
    }
    function validate() {
      var valid = true;
      valid = checkEmpty($("#mtoken"));
      $("#btn-submit").attr("disabled", true);
      if (valid) {
        $("#btn-submit").attr("disabled", false);
      }
    }
  </script>


<!--  <script type="text/javascript" src="{{url_for('static', filename='js/tools.js')}}"></script> -->
<script  type="text/javascript">// <![CDATA[
        function loading(){
            $("#loading").show();
            $("#content").hide();
        }
		// ]]></script>


  {% endblock %}
</body>

</html>
